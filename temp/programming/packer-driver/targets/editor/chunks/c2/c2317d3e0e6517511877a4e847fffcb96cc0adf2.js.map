{"version":3,"sources":["file:///Users/eve/chat-server/cocosQues/assets/script/AnimationScript.ts"],"names":["_decorator","Component","Tween","tween","UIOpacity","Vec3","ccclass","property","AnimationScript","start","fadeIn","node","duration","onComplete","opacity","getComponent","addComponent","to","easing","call","fadeOut","pulseAnimation","originalScale","scale","clone","scaleUp","scaleDown","union","repeatForever","stopPulseAnimation","stopAllByTarget","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Tween, tween, UIOpacity, Vec3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('AnimationScript')\nexport class AnimationScript extends Component {\n  start() {}\n\n  fadeIn(node: Node, duration: number, onComplete?: () => void) {\n    let opacity = node.getComponent(UIOpacity);\n    if (!opacity) {\n      opacity = node.addComponent(UIOpacity); // Ensure UIOpacity is added\n    }\n\n    opacity.opacity = 0;\n\n    tween(opacity)\n      .to(duration, { opacity: 255 }, { easing: 'linear' })\n      .call(() => {\n        if (onComplete) onComplete();\n      })\n      .start();\n  }\n  fadeOut(node: Node, duration: number, onComplete?: () => void) {\n    let opacity = node.getComponent(UIOpacity);\n    if (!opacity) {\n      opacity = node.addComponent(UIOpacity);\n    }\n\n    opacity.opacity = 255;\n\n    tween(opacity)\n      .to(duration, { opacity: 0 }, { easing: 'linear' })\n      .call(() => {\n        if (onComplete) onComplete();\n      })\n      .start();\n  }\n\n  pulseAnimation(node: Node) {\n    const originalScale = this.node.scale.clone(); // Save the original scale\n    const scaleUp = new Vec3(1.3, 1.3, 1); // Scale up factor\n    const scaleDown = originalScale; // Return to original scale\n\n    // Create a looping pulse animation\n    tween(node)\n      .to(0.3, { scale: scaleUp }, { easing: 'sineOut' }) // Scale up\n      .to(0.3, { scale: scaleDown }, { easing: 'sineIn' }) // Scale down\n      .union() // Combine the up and down tweens into one sequence\n      .repeatForever() // Loop the sequence indefinitely\n      .start();\n  }\n\n  stopPulseAnimation(node: Node) {\n    node.scale = new Vec3(1, 1, 1);\n    Tween.stopAllByTarget(node);\n  }\n\n  update(deltaTime: number) {}\n}\n"]}